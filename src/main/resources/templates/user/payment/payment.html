<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layout/default}">

<!-- 사용자별 css file 추가 부분 -->


<!-- 사용자 페이지별 javascript file 추가-->
<th:block layout:fragment="customJsFile">

</th:block>

<!-- 사용자별 스크립트 작성 -->
<th:block layout:fragment="customJsCode">
    <script>
        const ticketNum = $('input[name="ticketNum"]').val();

        const contentsPrice = $('input[name="contentsPrice"]').val();

        const totalPrice = ticketNum * contentsPrice;
        $("#totalPrice").text(totalPrice);
        $('input[name="totalPrice"]').val(totalPrice);

        console.log(totalPrice);


        //문화카드 DB와 결제수단 유효성 검사



    </script>
</th:block>

<!--/* layout:decorate 이부분의 파일에서 사용자 정의로 선언한 조각에 작성한 html코드를 삽입  */-->
<th:block layout:fragment="customContents">

    <!--====== BANNER PART START ======-->
    <section class="banner-area bg_cover">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="banner-content">
                        <h1 class="text-white"> 결제 </h1>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a th:href="@{/user/main}">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">결제</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--====== BANNER PART END ======-->


        <div class="dashboard-wrapper box-style">
            <div class="title">
                <h3>결제</h3>
            </div>

            <div class="payments-wrapper">
                <form action="#">
                    <div class="row">
                        <div class="col-xl-6">
                            <div class="left-wrapper box-style mb-30" th:object="${contentsDetailInfo}">
                                <h5 class="mb-25">주문 내역</h5>
                                <ul class="checkout">
                                    <li>
                                        <h6>상품이름</h6>
                                        <h6>수량</h6>
                                        <h6>금액</h6>
                                    </li>
                                    <li>
                                        <p th:text="*{contentsName}">CCG tv Camera</p>
                                        <p id="ticketNum" th:text="${ticketNum}"></p>
                                        <input type="hidden" name="ticketNum" th:value="${ticketNum}"/>
                                        <p id="contentsPrice" th:text="${contentsPrice} + 원"></p>
                                        <input type="hidden" name="contentsPrice" th:value="${contentsPrice}">
                                    </li>
                                    <li>
                                        <h6>총금액</h6>
                                        <p id="totalPrice"></p>
                                        <input type="hidden" name="totalPrice" />
                                    </li>
                                    <li>
                                        <h6>Shipping</h6>
                                        <div class="right">
                                            <div class="mb-2 text-right d-block">
                                                <div class="form-check check-style">
                                                    <input class="form-check-input" type="checkbox" value="none" id="flexCheckDefault1">
                                                    <label for="flexCheckDefault1">배송 무료</label>
                                                </div>
                                            </div>
                                            <div class="text-right d-block">
                                                <div class="form-check check-style">
                                                    <input class="form-check-input" type="checkbox" value="none" id="flexCheckDefault2">
                                                    <label for="flexCheckDefault2">배송비 : $10.00</label>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <h6>총금액</h6>
                                        <p id="totalPrice2"></p>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="col-xl-6">
                            <div class="right-wrapper box-style mb-30">
                                <h5 class="mb-25">결제 수단</h5>
                                <div class="single-form mb-15">
                                    <label for="name" class="mb-1">사용자 이름</label>
                                    <input type="text" id="name" name="name" placeholder="John Doe" class="px-3 py-2 border rounded">
                                </div>
                                <div class="single-form mb-15">
                                    <label for="card" class="mb-1">은행</label>
                                    <select name="card" id="card" class="px-3 py-2 border rounded w-100">
                                        <option value="none">농협</option>
                                    </select>
                                </div>
                                <div class="single-form mb-15">
                                    <label for="number" class="mb-1">카드 번호</label>
                                    <input type="text" id="number" name="number" placeholder="123 456 789" class="px-3 py-2 border rounded">
                                </div>
                                <div class="single-form mb-15">
                                    <label for="number2" class="mb-1">카드 비밀번호</label>
                                    <input type="text" id="number2" name="number2" placeholder="* * * *" class="px-3 py-2 border rounded">
                                </div>

                            </div>

                            <div class="box-style">
                                <div class="mb-20 d-flex justify-content-between">
                                    <h3>총 결제 금액 </h3>
                                    <h3 id="totalPrice3"></h3>
                                </div>
                                <button class="main-btn btn-hover btn-block">결제</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>


</th:block>
</html>