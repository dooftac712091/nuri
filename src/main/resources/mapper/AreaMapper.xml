<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ksmart.ks48team01.mapper.AreaMapper">
    <resultMap type="Region" id="regionResultMap">
        <id property="regionCode" column="region_code"/>
        <result property="regionName" column="region_name"/>
    </resultMap>

    <resultMap id="districtResultMap" type="District">
        <id property="districtCode" column="district_code"/>
        <result property="regionCode" column="region_code"/>
        <result property="districtName" column="district_name"/>
    </resultMap>

    <select id="getRegionList">
        SELECT
            REGION_CODE AS regionCode,
            REGION_NAME AS regionName
        FROM
            REGION;
    </select>

    <select id="getDistrictList" resultType="District">
        SELECT
            DISTRICT_CODE AS districtCode,
            REGION_CODE AS regionCode,
            DISTRICT_NAME AS districtName
        FROM
            DISTRICT
    </select>

    <select id="getDistrictListByRegion" resultMap="districtResultMap" parameterType="String">
        SELECT
            DISTRICT_CODE,
            REGION_CODE,
            DISTRICT_NAME
        FROM
            DISTRICT
        WHERE
            REGION_CODE = #{regionCode};
    </select>

    <select id="getDistrictDepartmentList" resultType="DistrictDep">
        select
            district_dep_code AS districtDepCode,
            region_code AS regionCode,
            district_code AS districtCode,
            district_dep_name AS districtDepName
        from
            DISTRICT_DEP
    </select>


</mapper>